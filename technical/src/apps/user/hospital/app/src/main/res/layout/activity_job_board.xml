<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/activity_main"
    tools:context="com.opensoach.hospital.Views.Activity.JobBoardActivity">

    <data>
        <import type="android.view.View"/>
        <variable
            name="jobboardactivity"
            type="com.opensoach.hospital.Views.Activity.JobBoardActivity"/>
        <variable
            name="VM"
            type="com.opensoach.hospital.ViewModels.JobBoardViewModel" />
        <variable
            name="clickHandler"
            type="com.opensoach.hospital.Views.ClickHandler.JobBoardClickHandler" />
    </data>


    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/color_main_bg"
        android:padding="0dp">


        <!--Header View-->
        <RelativeLayout
            android:id="@+id/titleBarLayout"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_alignParentTop="true"
            android:background="@color/color_titlebar_bg"
            android:padding="3dp">


            <ImageButton
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:background="@drawable/ic_backbutton"
                android:onClick="backButtonClicked"/>


            <TextView
                android:id="@+id/textView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentLeft="true"
                android:layout_centerVertical="true"
                android:layout_gravity="center_vertical|center_horizontal"
                android:drawableLeft="@drawable/ic_keyboard_arrow_left_white_24dp"
                android:drawablePadding="3dp"
                android:onClick="backButtonClicked"
                android:text="Job Board"
                android:textColor="@color/colorWhite"
                android:textSize="25sp"
                android:visibility="gone"/>

            <TextView
                android:id="@+id/jobDescription"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerVertical="true"
                android:layout_marginRight="20dp"
                android:layout_toLeftOf="@+id/textJobStatus"
                android:ellipsize="end"
                android:maxLength="100"
                android:singleLine="true"
                android:maxLines="1"
                android:text="@{VM.getJobDescription}"
                android:textColor="@color/color_main_bg"
                android:textSize="18sp"
                android:visibility="gone"/>

            <TextView
                android:id="@+id/textJobStatus"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerVertical="true"
                android:layout_marginRight="20dp"
                android:layout_toLeftOf="@+id/start"
                android:text="@{VM.getJobStatus}"
                android:textColor="@{VM.getJobStatusColor}"
                android:textSize="20sp"
                android:visibility="gone"/>

            <ImageButton
                android:id="@+id/start"
                android:layout_width="35dp"
                android:layout_height="35dp"
                android:layout_centerVertical="true"
                android:layout_marginRight="20dp"
                android:layout_toLeftOf="@+id/textDigits"
                android:padding="-40dp"
                android:onClick="@{(view) -> clickHandler.onJobStart(view,VM)}"
                android:background="@{VM.isServerConnected ? @drawable/start : @drawable/start_disabled}"
                android:clickable="@{VM.isServerConnected}"
                android:visibility="gone"/>

            <TextView
                android:id="@+id/textDigits"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerVertical="true"
                android:layout_marginRight="20dp"
                android:layout_toLeftOf="@+id/quantityupdate"
                android:text="@{VM.getJobQuantity}"
                android:textColor="@color/color_main_bg"
                android:textSize="20sp"
                android:visibility="gone"/>

            <ImageButton
                android:id="@+id/quantityupdate"
                android:layout_width="30dp"
                android:layout_height="30dp"
                android:layout_centerVertical="true"
                android:layout_marginRight="20dp"
                android:layout_toLeftOf="@+id/stop"
                android:padding="-40dp"
                android:onClick="@{(view) -> clickHandler.onQuantityUpdate(view,VM)}"
                android:background="@{VM.isServerConnected ? @drawable/update_job_unit : @drawable/update_job_unit_disabled}"
                android:clickable="@{VM.isServerConnected}"
                android:visibility="gone"/>

            <ImageButton
                android:id="@+id/stop"
                android:layout_width="35dp"
                android:layout_height="35dp"
                android:layout_centerVertical="true"
                android:layout_marginRight="20dp"
                android:layout_toLeftOf="@+id/imgNWState"
                android:padding="-40dp"
                android:onClick="@{(view) -> clickHandler.onJobStop(view,VM)}"
                android:background="@{VM.isServerConnected ? @drawable/stop : @drawable/stop_disabled}"
                android:clickable="@{VM.isServerConnected}"
                android:visibility="gone"/>


            <ImageView
                android:id="@+id/imgNWState"
                android:layout_width="30dp"
                android:layout_height="30dp"
                android:layout_alignParentRight="true"
                android:layout_centerVertical="true"
                android:layout_marginRight="20dp"
                android:background="@{VM.isServerConnected ? @drawable/server_ok : @drawable/server_error}"/>
        </RelativeLayout>

        <!--Seperator-->
        <View
            android:id="@+id/topMarinView"
            android:layout_width="match_parent"
            android:layout_height="5dp"
            android:layout_below="@+id/titleBarLayout"
            android:background="@color/color_top_header_border"></View>


            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_above="@+id/bottomMarinView"
                android:layout_below="@+id/topMarinView"
                android:layout_marginRight="0dp"
                android:background="@color/color_main_bg"
                android:orientation="vertical"
                android:weightSum="1">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_gravity="right"
                    android:gravity="right">
                    <android.support.v7.widget.AppCompatButton
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:onClick="@{(view) -> jobboardactivity.OnJobStart(view,VM)}"
                        android:enabled="@{VM.startButtonEnabled}"
                        android:text="Start"
                        android:backgroundTint="@{VM.startButtonEnabled? @color/color_button_enabled:@color/color_button_disabled}"
                        android:textColor="@{VM.startButtonEnabled? @color/text_color_button_enabled:@color/text_color_button_disabled}"
                        android:drawableLeft="@{VM.startButtonEnabled? @drawable/svg_start:@drawable/svg_start_disabled}"
                        android:textSize="9dp"/>

                    <android.support.v7.widget.AppCompatButton
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:onClick="@{(view) -> jobboardactivity.onJobDrop(view,VM)}"
                        android:enabled="@{VM.dropButtonEnabled}"
                        android:text="Drop"
                        android:backgroundTint="@{VM.dropButtonEnabled? @color/color_button_enabled:@color/color_button_disabled}"
                        android:textColor="@{VM.dropButtonEnabled? @color/text_color_button_enabled:@color/text_color_button_disabled}"
                        android:drawableLeft="@{VM.dropButtonEnabled? @drawable/svg_drop:@drawable/svg_drop_disabled}"
                        android:textSize="9dp"/>

                    <android.support.v7.widget.AppCompatButton
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:onClick="@{(view) -> jobboardactivity.OnJobAbort(view,VM)}"
                        android:enabled="@{VM.abortButtonEnabled}"
                        android:text="Abort"
                        android:backgroundTint="@{VM.abortButtonEnabled? @color/color_button_enabled:@color/color_button_disabled}"
                        android:textColor="@{VM.abortButtonEnabled? @color/text_color_button_enabled:@color/text_color_button_disabled}"
                        android:drawableLeft="@{VM.abortButtonEnabled? @drawable/svg_abort:@drawable/svg_abort_disabled}"
                        android:textSize="9dp"
                        />

                    <android.support.v7.widget.AppCompatButton
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:onClick="@{(view) -> jobboardactivity.onJobStop(view,VM)}"
                        android:enabled="@{VM.completedButtonEnabled}"
                        android:text="Complete"
                        android:backgroundTint="@{VM.completedButtonEnabled? @color/color_button_enabled:@color/color_button_disabled}"
                        android:textColor="@{VM.completedButtonEnabled? @color/text_color_button_enabled:@color/text_color_button_disabled}"
                        android:drawableLeft="@{VM.completedButtonEnabled? @drawable/svg_stop:@drawable/svg_stop_disabled}"
                        android:textSize="9dp"/>

                </LinearLayout>

                <!--Enzen Job Details-->

                <ScrollView
                    android:layout_width="match_parent"
                    android:layout_height="match_parent">
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical">



                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:background="@color/color_main_bg"
                            android:layout_weight="0.5">

                            <TableLayout
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:paddingLeft="5dp"
                                android:paddingRight="5dp">

                                <TableRow>
                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:padding="3dp"
                                        android:text="Work ID"
                                        android:textColor="@color/color_grid_data_text_key"
                                        android:textSize="@dimen/grid_data_text_size" />

                                    <TextView android:id="@+id/work_type"
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginLeft="5dp"
                                        android:padding="3dp"
                                        android:text="@{VM.workID}"
                                        android:textColor="@color/color_grid_data_text_value"
                                        android:textSize="@dimen/grid_data_text_size" />
                                </TableRow>

                                <TableRow>
                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:padding="3dp"
                                        android:text="Work Type"
                                        android:textColor="@color/color_grid_data_text_key"
                                        android:textSize="@dimen/grid_data_text_size" />

                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginLeft="5dp"
                                        android:padding="3dp"
                                        android:text="@{VM.workType}"
                                        android:textColor="@color/color_grid_data_text_value"
                                        android:textSize="@dimen/grid_data_text_size" />


                                </TableRow>

                                <TableRow>
                                    <TextView
                                        android:layout_width="match_parent"
                                        android:layout_height="wrap_content"
                                        android:padding="3dp"
                                        android:text="Address"
                                        android:textColor="@color/color_grid_data_text_key"
                                        android:textSize="@dimen/grid_data_text_size" />

                                    <TextView
                                        android:layout_width="0dp"
                                        android:layout_weight="1"
                                        android:layout_height="wrap_content"
                                        android:layout_marginLeft="5dp"
                                        android:padding="3dp"
                                        android:text="@{VM.workAddress}"
                                        android:textColor="@color/color_grid_data_text_value"
                                        android:textSize="@dimen/grid_data_text_size" />
                                </TableRow>

                                <TableRow>
                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:padding="3dp"
                                        android:text="Status"
                                        android:textColor="@color/color_grid_data_text_key"
                                        android:textSize="@dimen/grid_data_text_size" />

                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginLeft="5dp"
                                        android:padding="3dp"
                                        android:text="@{VM.jobStatus}"
                                        android:textColor="@color/color_grid_data_text_value"
                                        android:textSize="@dimen/grid_data_text_size" />
                                </TableRow>
                                <TableRow>
                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:padding="3dp"
                                        android:text="Planned"
                                        android:textColor="@color/color_grid_data_text_key"
                                        android:textSize="@dimen/grid_data_text_size" />

                                    <TextView android:id="@+id/planned_dtm"
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginLeft="5dp"
                                        android:padding="3dp"
                                        android:text="@{VM.PlannedDates}"
                                        android:textColor="@color/color_grid_data_text_value"
                                        android:textSize="@dimen/grid_data_text_size" />
                                </TableRow>
                                <TableRow>
                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:padding="3dp"
                                        android:text="Actual"
                                        android:textColor="@color/color_grid_data_text_key"
                                        android:textSize="@dimen/grid_data_text_size" />

                                    <TextView android:id="@+id/actual_dtm"
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginLeft="5dp"
                                        android:padding="3dp"
                                        android:text="@{VM.ActualDates}"
                                        android:textColor="@color/color_grid_data_text_value"
                                        android:textSize="@dimen/grid_data_text_size" />
                                </TableRow>

                                <TableRow>
                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:padding="3dp"
                                        android:text="Details"
                                        android:textColor="@color/color_grid_data_text_key"
                                        android:textSize="@dimen/grid_data_text_size" />

                                    <TextView
                                        android:layout_width="0dp"
                                        android:layout_weight="1"
                                        android:layout_height="wrap_content"
                                        android:layout_marginLeft="5dp"
                                        android:padding="3dp"
                                        android:text="@{VM.workSubType}"
                                        android:textColor="@color/color_grid_data_text_value"
                                        android:textSize="@dimen/grid_data_text_size" />
                                </TableRow>

                            </TableLayout>

                        </LinearLayout>


                    <LinearLayout
                        android:id="@+id/leftSideLayout"
                        android:layout_width="match_parent"
                        android:layout_height="400dp"
                        android:layout_weight="0.5"
                        android:paddingLeft="5dp"
                        android:paddingRight="5dp"
                        android:orientation="vertical">

                        <RelativeLayout
                            android:id="@+id/jobImageViewTitle"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"

                            android:background="@color/color_main_bg">

                            <TextView
                                android:id="@+id/jobTitle"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_alignParentLeft="true"
                                android:layout_centerVertical="true"
                                android:layout_gravity="center_vertical|center_horizontal"
                                android:layout_marginLeft="15dp"
                                android:padding="3dp"
                                android:text="Drawing"
                                android:textColor="@color/color_text_color_black"
                                android:textSize="20sp"
                                android:visibility="gone"/>

                            <ImageButton
                                android:id="@+id/minimizeMaximizeButton"
                                android:layout_width="30dp"
                                android:layout_height="30dp"
                                android:layout_alignParentRight="true"
                                android:layout_centerVertical="true"
                                android:layout_marginRight="10dp"
                                android:background="@drawable/fullscreen"
                                android:visibility="gone"/>
                        </RelativeLayout>

                        <RelativeLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:layout_marginBottom="10dp"
                            android:layout_marginLeft="0dp"
                            android:layout_marginRight="0dp"
                            android:background="@color/color_grid_border"
                            android:padding="2dp">

                            <!--<com.github.chrisbanes.photoview.PhotoView
                                android:id="@+id/jobImageView"
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:background="@android:color/white"
                                android:src="@drawable/job_image" />-->


                            <android.support.v4.view.ViewPager
                                android:id="@+id/vp_slider"
                                android:layout_width="match_parent"
                                android:layout_height="match_parent" />

                            <LinearLayout
                                android:id="@+id/ll_dots"
                                android:layout_width="match_parent"
                                android:layout_height="30dp"
                                android:layout_alignParentBottom="true"
                                android:layout_marginBottom="20dp"
                                android:gravity="center"
                                android:orientation="horizontal"></LinearLayout>
                        </RelativeLayout>
                    </LinearLayout>


                    <!--Process and Tools-->
                    <LinearLayout
                        android:id="@+id/rightSideLayout"
                        android:layout_width="0dp"
                        android:layout_height="match_parent"
                        android:layout_marginLeft="5dp"
                        android:layout_weight="0.5"
                        android:orientation="vertical"
                        android:visibility="gone">

                        <RelativeLayout
                            android:id="@+id/jobDescriptionTitleLayout"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_alignParentTop="true"
                            android:padding="3dp">

                            <TextView
                                android:id="@+id/jobProcess"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_alignParentLeft="true"
                                android:layout_centerVertical="true"
                                android:layout_gravity="center_vertical|center_horizontal"
                                android:text="Process"
                                android:textColor="@color/color_text_color_black"
                                android:textSize="20sp" />

                            <!--<TextView-->
                            <!--android:id="@+id/jobAdditionalInfo"-->
                            <!--android:layout_width="wrap_content"-->
                            <!--android:layout_height="wrap_content"-->
                            <!--android:layout_centerVertical="true"-->
                            <!--android:layout_gravity="center_vertical|center_horizontal"-->
                            <!--android:layout_marginLeft="15dp"-->
                            <!--android:layout_toRightOf="@id/jobProcess"-->
                            <!--android:text="Additional Information"-->
                            <!--android:textColor="@color/color_text_color_black"-->
                            <!--android:textSize="20sp" />-->

                            <Button
                                android:id="@+id/resizeProcessDataBtn"
                                android:layout_width="30dp"
                                android:layout_height="30dp"
                                android:layout_alignParentRight="true"
                                android:layout_centerVertical="true"
                                android:background="@drawable/fullscreen"
                                android:padding="5dp" />
                        </RelativeLayout>

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:layout_marginBottom="10dp"
                            android:orientation="vertical"
                            android:weightSum="1">

                            <TextView
                                android:id="@+id/jobProcessDescriptionText"
                                android:layout_width="match_parent"
                                android:layout_height="0dp"
                                android:layout_weight="0.5"
                                android:background="@drawable/textview_border"
                                android:padding="15dp"
                                android:scrollbars="vertical"
                                android:text="This is the process. Process is free text which  will be displayed here."
                                android:textColor="@color/color_text_color_black"
                                android:textSize="@dimen/grid_data_text_size" />

                            <LinearLayout
                                android:id="@+id/jobToolsDetailsLayout"
                                android:layout_width="match_parent"
                                android:layout_height="0dp"
                                android:layout_weight="0.5"
                                android:orientation="vertical">

                                <RelativeLayout
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:layout_alignParentTop="true"
                                    android:layout_marginBottom="2dp"
                                    android:layout_marginTop="2dp"
                                    android:background="@color/color_main_bg"
                                    android:paddingBottom="2dp"
                                    android:paddingTop="2dp">

                                    <TextView
                                        android:id="@+id/jobToolDescriptionTitle"
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_alignParentLeft="true"
                                        android:layout_centerVertical="true"
                                        android:layout_gravity="center_vertical|center_horizontal"
                                        android:text="Tools"
                                        android:textColor="@color/color_text_color_black"
                                        android:textSize="20sp" />

                                    <ImageButton
                                        android:id="@+id/minimizeMaximizeToolButton"
                                        android:layout_width="30dp"
                                        android:layout_height="30dp"
                                        android:layout_alignParentRight="true"
                                        android:layout_centerVertical="true"
                                        android:background="@drawable/fullscreen" />
                                </RelativeLayout>

                                <TextView
                                    android:id="@+id/jobToolDescriptionText"
                                    android:layout_width="match_parent"
                                    android:layout_height="match_parent"
                                    android:background="@drawable/textview_border"
                                    android:padding="15dp"
                                    android:scrollbars="vertical"
                                    android:text="This is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description \nThis is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description \nThis is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description \nThis is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description \nThis is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description\This is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description\This is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description\This is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description \nThis is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description \nThis is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description \nThis is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description \nThis is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description\This is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description\This is a bulleted text of tools or some description about the same \nTool 1 and its description if any \nTool 2 and its description"
                                    android:textColor="@color/color_text_color_black"
                                    android:textSize="@dimen/grid_data_text_size" />
                            </LinearLayout>
                        </LinearLayout>


                    </LinearLayout>

                </LinearLayout>

                </ScrollView>


            </LinearLayout>







        <View
            android:id="@+id/bottomMarinView"
            android:layout_width="match_parent"
            android:layout_height="@dimen/bottom_divider_height"
            android:layout_above="@+id/bottomBarLayout"
            android:background="@color/color_top_header_border"></View>

        <LinearLayout
            android:id="@+id/bottomBarLayout"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:background="@color/color_titlebar_bg"
            android:gravity="center_horizontal"
            android:padding="0dp">

            <android.support.v7.widget.AppCompatButton
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Home"
                android:backgroundTint="@android:color/transparent"
                android:textColor="@color/text_color_button_enabled"
                android:drawableTop="@drawable/dummy_home"
                android:textSize="9dp"/>

            <android.support.v7.widget.AppCompatButton
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Contact"
                android:backgroundTint="@android:color/transparent"
                android:textColor="@color/text_color_button_enabled"
                android:drawableTop="@drawable/dummy_contact_mail"
                android:textSize="9dp"/>

            <android.support.v7.widget.AppCompatButton
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Help"
                android:backgroundTint="@android:color/transparent"
                android:textColor="@color/text_color_button_enabled"
                android:drawableTop="@drawable/dummy_help"
                android:textSize="9dp"/>

            <android.support.v7.widget.AppCompatButton
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Chat"
                android:backgroundTint="@android:color/transparent"
                android:textColor="@color/text_color_button_enabled"
                android:drawableTop="@drawable/dummy_message"
                android:textSize="9dp"/>
        </LinearLayout>

    </RelativeLayout>

</layout>
