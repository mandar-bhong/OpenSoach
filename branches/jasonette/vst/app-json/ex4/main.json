{
  "$jason": {
    "head": {
      "title": "Main",
      "styles": {
        "imgstyle": {
          "width": "100",
          "height": "40"
        }
      },
	  "actions": {
		"$pull": {
			"type": "$reload"
		},
        "$load": {
          "type": "$network.request",
          "options": {
            "url": "http://172.105.232.148:92/api/v1/job/list",
			"method": "GET",
			"data": {
				"params": {
                    "page": 1,
                    "limit": 20,
                    "orderby": "vehicleno",
					"orderdirection": "asc"
                  }
			}
          },
          "success": {
            "type": "$render"
          }
		}
		},
      "templates": {
        "body": {
		
		  "header":{
			"title":"vehicleservice.live",
			"style":{
				"color":"#ffffff",
				"background":"#396767"
			}
		  },			
          "sections": [
			{
              "type": "vertical",
              "header": {
                "type": "horizontal",
                "components": [					
				  {
                    "type": "label",
                    "text": "Token",
					"style":{
						"width":"10%",
						"align":"center",
						"color":"#ffffff"
					}
                  },				
                  {
                    "type": "label",
                    "text": "Vehicle No",
					"style":{
						"width":"25%",
						"align":"center",
						"color":"#ffffff"
					}
                  },
                  {
                    "type": "label",
                    "text": "In Time",
					"style":{
						"width":"30%",
						"align":"center",
						"color":"#ffffff"
					}
                  },
				  {
                    "type": "label",
                    "text": "State",
					"style":{
						"width":"15%",
						"align":"center",
						"color":"#ffffff"
					}
                  },
                  {
                    "type": "label",
                    "text": "Details",
					"style":{
						"width":"15%",
						"align":"center",
						"color":"#ffffff"
					}
                  }
                ],
				"style":{
					"background":"#FF8910"
				}	
              },
              "items": {
                "{{#each $jason.data.records}}": {
                  "type": "horizontal",
                  "components": [
				    {
                      "type": "label",
                      "text": "{{token}}",
					  "style":{
						"width":"10%",
						"align":"center"
					}
                    },
                    {
                      "type": "label",
                      "text": "{{vehicleno}}",
					  "style":{
						"width":"25%",
						"align":"center"
					}
                    },
                    {
                      "type": "label",
                      "text": "{{(new Date(intime)).toLocaleString()}}",
					  "style":{
						"width":"30%",
						"align":"center"
					}
                    },	
					{
                      "type": "label",
                      "text": "{{ var e ; switch (state) { case 6: e = 'delivered';break;};return e; }}",
					  "style":{
						"width":"15%",
						"align":"center",
						"background":"{{var e ; switch (state) { case 6: e = '#AF7AC5';break;};return e;}}",
						"color": "{{var e ; switch (state) { case 6: e = '#ffffff';break;};return e;}}",
						"corner_radius":"5"
					}
                    },
                    {
                      "type": "button",
                      "url": "http://172.105.232.148:81/eye.png",
                      "action": {
                        "type": "$href",
                        "options": {
                          "url": "http://172.105.232.148:81/view.json",
                          "options": {
                            "tokenid": "{{tokenid}}"
                          }
                        }
                      },
					  "style":{
						"align": "center",
						"height":"30"
					  }
                    }
                  ],
				  "style":{
					"z_index":"1"
				  }				  				  
                }
			  }
            }
          ]
        }
      }
    }
  }
}